(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{mwJw:function(t,e,i){"use strict";i.r(e),i.d(e,"AdminCharityAdsModule",(function(){return A}));var a=i("3Pt+"),r=i("tyNb"),s=i("CG0s"),d=i("fXoL"),n=i("AytR"),c=i("tk/3");const b=n.a.apiUrl+"/charityads/";let o=(()=>{class t{constructor(t){this.http=t}addCharityAdToServer(t,e){return this.http.post(b+"addCharityAd",{charityAd:t,adminData:e})}getCharityAds(t){return this.http.post(b+"getCharityAds",{adminData:t})}deleteCharityAd(t,e){return this.http.post(b+"deleteCharityAd",{_id:t,adminData:e})}}return t.\u0275fac=function(e){return new(e||t)(d.Sb(c.b))},t.\u0275prov=d.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=i("0IaG");const u=[{path:"charityads/admincontrol",component:(()=>{class t{constructor(t,e){this.admincharityads=t,this.dialog=e,this.messageAddCharityAd=null,this.numberCharityAds=null,this.messageDeleteCharityAds=null,this.disableButton=!1,this.confirmRequest="test"}ngOnInit(){}addCharityAdToServer(t){this.disableButton=!0;let e=t.value.videoId.split("/").pop();this.checkAddCharityAdType=this.admincharityads.addCharityAdToServer({videoId:e,adAppearanceCountry:t.value.adAppearanceCountry},this.confirmRequest).subscribe(t=>{this.messageAddCharityAd=t.message,this.disableButton=!1})}getCharityAds(){this.disableButton=!0;let t=null;this.checkGetCharityAdsType=this.admincharityads.getCharityAds(this.confirmRequest).subscribe(e=>{t=e},t=>this.dialog.open(s.a),()=>{this.numberCharityAds=t.length,console.log(t),this.disableButton=!1})}deleteCharityAd(t){this.disableButton=!0,this.checkDeleteCharityAdType=this.admincharityads.deleteCharityAd(t.value._id,this.confirmRequest).subscribe(t=>{this.messageDeleteCharityAds=t.message,this.disableButton=!1})}openButtons(){this.disableButton=!1}ngOnDestroy(){this.checkAddCharityAdType&&this.checkAddCharityAdType.unsubscribe(),this.checkGetCharityAdsType&&this.checkGetCharityAdsType.unsubscribe(),this.checkDeleteCharityAdType&&this.checkDeleteCharityAdType.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(d.Jb(o),d.Jb(h.a))},t.\u0275cmp=d.Db({type:t,selectors:[["app-admincharityads"]],decls:59,vars:7,consts:[[1,"subH2"],["addCharityAdForm","ngForm"],["type","text","name","videoId","ngModel","","required","","pattern","^https://youtu.be/+[a-zA-Z0-9_-]+$","placeholder","Ex. https://youtu.be/test"],["type","text","name","adAppearanceCountry","ngModel","","required","","pattern","^[A-Z]{2,3}$","placeholder","take two Capital Letters or ALL",2,"width","208"],[3,"disabled","click"],[2,"color","black"],["deleteCharityAdForm","ngForm"],["type","text","name","_id","ngModel","","required",""],[1,"subH3",3,"click"],["type","text","name","confirmRequest",3,"ngModel","ngModelChange"]],template:function(t,e){if(1&t){const t=d.Pb();d.Ob(0,"h2"),d.uc(1,"charity ads"),d.Nb(),d.Ob(2,"h3",0),d.uc(3,"--add charity ad"),d.Nb(),d.Ob(4,"form",null,1),d.Ob(6,"label"),d.uc(7,"video id of youtube : "),d.Nb(),d.Kb(8,"input",2),d.Kb(9,"br"),d.Ob(10,"label"),d.uc(11,"ad appearance country code like EG not egypt or ALL : "),d.Nb(),d.Kb(12,"input",3),d.Kb(13,"br"),d.Ob(14,"button",4),d.Wb("click",(function(){d.jc(t);const i=d.ic(5);return e.addCharityAdToServer(i)})),d.uc(15,"add charity ad to server"),d.Nb(),d.Kb(16,"br"),d.Ob(17,"p"),d.uc(18,"message : "),d.Ob(19,"span"),d.uc(20),d.Nb(),d.Nb(),d.Nb(),d.Kb(21,"hr"),d.Ob(22,"h3",0),d.uc(23,"--get all charity ads"),d.Nb(),d.Ob(24,"button",4),d.Wb("click",(function(){return e.getCharityAds()})),d.uc(25,"get charity ads"),d.Nb(),d.Kb(26,"br"),d.Ob(27,"p"),d.uc(28,"number of ads is : "),d.Ob(29,"span"),d.uc(30),d.Nb(),d.Nb(),d.Ob(31,"p"),d.uc(32,"note you can see the ads data in console"),d.Nb(),d.Kb(33,"hr",5),d.Ob(34,"h3",0),d.uc(35,"--delete charity ad depend on _id"),d.Nb(),d.Ob(36,"form",null,6),d.Ob(38,"label"),d.uc(39,"id of charity ad : "),d.Nb(),d.Kb(40,"input",7),d.Kb(41,"br"),d.Ob(42,"button",4),d.Wb("click",(function(){d.jc(t);const i=d.ic(37);return e.deleteCharityAd(i)})),d.uc(43,"delete charity ad"),d.Nb(),d.Kb(44,"br"),d.Ob(45,"p"),d.uc(46,"message : "),d.Ob(47,"span"),d.uc(48),d.Nb(),d.Nb(),d.Nb(),d.Kb(49,"hr",5),d.Ob(50,"h2",0),d.uc(51,"--open disable button"),d.Nb(),d.Ob(52,"button",8),d.Wb("click",(function(){return e.openButtons()})),d.uc(53,"open buttons"),d.Nb(),d.Kb(54,"br"),d.Ob(55,"label"),d.uc(56,"confirm request "),d.Nb(),d.Ob(57,"input",9),d.Wb("ngModelChange",(function(t){return e.confirmRequest=t})),d.Nb(),d.Kb(58,"br")}if(2&t){const t=d.ic(5),i=d.ic(37);d.zb(14),d.dc("disabled",t.invalid||1==e.disableButton),d.zb(6),d.vc(e.messageAddCharityAd),d.zb(4),d.dc("disabled",1==e.disableButton),d.zb(6),d.vc(e.numberCharityAds),d.zb(12),d.dc("disabled",i.invalid||1==e.disableButton),d.zb(6),d.vc(e.messageDeleteCharityAds),d.zb(9),d.dc("ngModel",e.confirmRequest)}},directives:[a.s,a.j,a.k,a.a,a.i,a.l,a.p,a.n],styles:[""]}),t})(),canActivate:[i("jO/0").a]}];let l=(()=>{class t{}return t.\u0275mod=d.Hb({type:t}),t.\u0275inj=d.Gb({factory:function(e){return new(e||t)},imports:[[r.c.forChild(u)],r.c]}),t})();var y=i("ofXK"),p=i("rhD1");let A=(()=>{class t{}return t.\u0275mod=d.Hb({type:t}),t.\u0275inj=d.Gb({factory:function(e){return new(e||t)},imports:[[a.d,l,y.b,p.a]]}),t})()}}]);